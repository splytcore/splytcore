<section>

  <div class="page-header">
    <h1>Appointments</h1>
  </div>

  <div class="form-group">
    <label class="control-label" for="departments">departments</label>          
    <select 
    class="form-control" 
    name="departments" 
    ng-model="vm.department"
    ng-options="x.name for x in vm.departments track by x._id"
    ng-change="vm.listByDepartment()"
    >                   
    </select>
  </div>


  <div class="list-group">
    <div href="#" class="list-group-item active">
      <h4 class="list-group-item-heading row">
        <span class="col-sm-4">CANDIDATE</span>        
        <span class="col-sm-4">APPOINTMENT</span>                
        <span class="col-sm-4">DEPARTMENT</span>                
      </h4>      
    </div>

    <a ng-repeat="appt in vm.pagedItems"
       ui-sref="appointments.edit({ appointmentId: appt._id })"
       class="list-group-item">
      <h4 class="list-group-item-heading row">
        <span class="col-sm-4">{{appt.candidate ? appt.candidate.lastName + ',' + appt.candidate.firstName : 'OPEN'}}    </span> 
        <span class="col-sm-4"> {{ appt.appointment | date: 'hh:mm:ss a MM/dd/yyyy'}}
        </span>  
          <span class="col-sm-4">{{ appt.department.display }}</span>                      
      </h4>      
    </a>
  </div>

  <pagination boundary-links="true" max-size="8" items-per-page="vm.itemsPerPage" total-items="vm.appointments.length" 
    ng-model="vm.currentPage" ng-change="vm.pageChanged()"></pagination>  

</section>
